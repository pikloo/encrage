LoadModule headers_module /usr/lib/apache2/modules/mod_headers.so

<VirtualHost *:80>
        ServerAdmin webmaster@pikloo-dev.online
        ServerName pikloo-dev.online
        DocumentRoot /var/www/html

        ErrorLog ${APACHE_LOG_DIR}/error.log
        CustomLog ${APACHE_LOG_DIR}/access.log combined

        ProxyPreserveHost On
        ProxyPass        "/" "http://172.17.0.1:14080/"
        ProxyPassReverse "/" "http://172.17.0.1:14080/"

</VirtualHost>

# # <VirtualHost *:443>
# #         SSLEngine on
#         SSLCertificateFile      /etc/apache2/sites-available/ssl/cert.pem
#         SSLCertificateKeyFile  /etc/apache2/sites-available/ssl/key.pem

# #         ServerAdmin webmaster@localhost
# #         DocumentRoot /var/www/html

# #         ErrorLog ${APACHE_LOG_DIR}/error.log
# #         CustomLog ${APACHE_LOG_DIR}/access.log combined
# # </VirtualHost>


<VirtualHost *:443>
        ServerAdmin webmaster@pikloo-dev.online
        ServerName pikloo-dev.online
        DocumentRoot /var/www/html
        
        ErrorLog ${APACHE_LOG_DIR}/error.log
        CustomLog ${APACHE_LOG_DIR}/access.log combined

        ProxyPass        "/" "https://172.17.0.1:14443/"
        ProxyPassReverse "/" "https://172.17.0.1:14443/"

        SSLProxyEngine On
        SSLProxyVerify none
        SSLProxyCheckPeerCN off
        SSLProxyCheckPeerName off
        SSLProxyCheckPeerExpire off
        ProxyPreserveHost On

        SSLEngine on
        SSLCertificateFile     /etc/apache2/sites-available/ssl/cert.pem
        SSLCertificateKeyFile  /etc/apache2/sites-available/ssl/key.pem
        #   Server Certificate Chain:
        <FilesMatch "\.(cgi|shtml|phtml|php)$">
                        SSLOptions +StdEnvVars
        </FilesMatch>
        <Directory /var/www/html>
                Options Indexes FollowSymLinks Includes execCGI
                AllowOverride All
                Require all granted
        </Directory>

</VirtualHost>
